<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>High-Quality Earning Dashboard</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
            
    <script src='//libtl.com/sdk.js' data-zone='10117888' data-sdk='show_10117888'></script>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <style>
        /* --- CSS STYLES --- */
        body { font-family: 'Poppins', sans-serif; text-align: center; padding: 0; background-color: #f7f9fc; color: #1f2937; margin: 0; }
        .container { max-width: 600px; margin: 0 auto; background-color: white; padding: 0 0 20px 0; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05); border-radius: 15px; overflow: hidden; }
        .header-card { background: linear-gradient(135deg, #1d4ed8, #3b82f6); color: white; padding: 30px 20px; text-align: left; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; box-shadow: 0 6px 15px rgba(29, 78, 216, 0.3); }
        .header-card p { margin: 0 0 5px 0; font-weight: 500; opacity: 0.9; font-size: 14px; }
        .header-card .amount { font-size: 44px; font-weight: 700; }
        .header-card .user-info { font-size: 14px; margin-top: 15px; border-top: 1px solid rgba(255, 255, 255, 0.2); padding-top: 10px; }
        .tab-menu { display: flex; justify-content: space-around; margin: 20px 0 30px 0; background-color: white; border-bottom: 1px solid #e5e7eb; padding: 0 10px; flex-wrap: wrap; }
        .tab-menu button { background: none; border: none; padding: 15px 8px; cursor: pointer; font-size: 13px; transition: all 0.3s; color: #6b7280; font-weight: 600; display: flex; align-items: center; gap: 5px; flex-grow: 1; justify-content: center;}
        .tab-menu button.active { color: #1d4ed8; border-bottom: 3px solid #1d4ed8; }
        .tab-menu button i { font-size: 16px; }
        .tab-content { padding: 0 20px; text-align: left; }
        h2 { font-size: 24px; font-weight: 600; color: #1f2937; margin-bottom: 20px; border-left: 4px solid #1d4ed8; padding-left: 10px; }
        .task-card { background-color: #ffffff; padding: 15px; border-radius: 10px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); border: 1px solid #e5e7eb; }
        .task-info h4 { margin: 0 0 5px 0; font-size: 16px; color: #1f2937; font-weight: 600; }
        .task-info p { margin: 0; font-size: 13px; color: #6b7280; }
        .task-reward { font-size: 18px; font-weight: 700; color: #10b981; }
        .task-btn { background-color: #f59e0b; color: white; padding: 8px 15px; border-radius: 5px; font-size: 14px; font-weight: 600; border: none; cursor: pointer; }
        .btn-action { 
            background-color: #10b981; color: white; padding: 14px 25px; border: none; border-radius: 8px; cursor: pointer; margin-top: 15px; font-weight: 600; transition: background-color 0.3s; width: 100%; box-sizing: border-box; display: flex; justify-content: center; align-items: center; gap: 10px; font-size: 16px;
        }
        .btn-action:hover { background-color: #059669; }
        input[type="number"], input[type="text"], select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #d1d5db; border-radius: 6px; box-sizing: border-box; font-size: 15px; background-color: #f9fafb; }
        #ad-card { border: 2px solid #3b82f6; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
        #ad-card h3 { color: #1d4ed8; font-size: 20px; display: flex; align-items: center; justify-content: center; gap: 10px;}
        #ad-progress-container { background-color: #e5e7eb; border-radius: 50px; height: 15px; margin: 15px 0; overflow: hidden;}
        #ad-progress-bar { height: 100%; width: 0%; background-color: #10b981; border-radius: 50px; transition: width 0.5s ease-in-out;}
        #collect-btn { background-color: #f97316 !important; animation: pulse-orange 1.5s infinite; margin-top: 15px !important;}
        @keyframes pulse-orange { 0% { box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(249, 115, 22, 0); } 100% { box-shadow: 0 0 0 0 rgba(249, 115, 22, 0); } }
        .completed { background-color: #d1fae5; color: #065f46; cursor: default !important; }
        .completed:hover { background-color: #d1fae5 !important; }
        .task-card a { text-decoration: none; }
        .progress-text { text-align: center; font-weight: 600; font-size: 15px; color: #4b5563; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="container">
        <div class="header-card">
            <p>‡¶Æ‡ßã‡¶ü ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ</p>
            <div class="amount"><i class="fas fa-dollar-sign"></i> <span id="user-balance">0.00</span></div>
            <div class="user-info">
                <i class="fas fa-user-circle"></i> ‡¶á‡¶â‡¶ú‡¶æ‡¶∞: <strong id="tg-username">@LoadingUser</strong>
            </div>
        </div>

        <div class="tab-menu">
            <button class="active" onclick="showTab('earn', this)"><i class="fas fa-gift"></i> ‡¶°‡ßá‡¶á‡¶≤‡¶ø ‡¶¨‡ßã‡¶®‡¶æ‡¶∏</button>
            <button onclick="showTab('tasks', this)"><i class="fas fa-tasks"></i> ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</button>
            <button onclick="showTab('video-claim', this)"><i class="fab fa-youtube"></i> ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ</button>
            <button onclick="showTab('withdraw', this)"><i class="fas fa-wallet"></i> ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞</button>
            <button onclick="showTab('refer', this)"><i class="fas fa-share-alt"></i> ‡¶∞‡ßá‡¶´‡¶æ‡¶∞</button>
            <button onclick="showTab('support', this)"><i class="fas fa-headset"></i> ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</button>
        </div>

        <div id="earn-tab" class="tab-content">
            <h2><i class="fas fa-coins"></i> ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ (‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≠‡¶ø‡¶â)</h2>
            <div id="ad-card">
                <h3><i class="fas fa-video"></i> ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ</h3>
                <p style="color: #6b7280; font-size: 14px; text-align: center;">‡¶Æ‡ßã‡¶ü ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≠‡¶ø‡¶â ‡¶ï‡¶∞‡ßá $ <strong style="color:#10b981;">0.50</strong> ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                <div id="ad-progress-container">
                    <div id="ad-progress-bar"></div>
                </div>
                <div class="progress-text">
                    <span id="ad-count">0</span> / <span id="ad-limit">5</span> ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá
                </div>
                <button id="collect-btn" class="btn-action" disabled>
                    <i class="fas fa-spinner fa-spin" id="ad-loader" style="display:inline-block;"></i> ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...
                </button>
            </div>
        </div>
        
        <div id="tasks-tab" class="tab-content" style="display:none;">
            <h2><i class="fas fa-link"></i> ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</h2>
            <div class="task-card">
                <div class="task-info"> <h4>‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®</h4> <p>‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶ï‡¶∞‡ßá ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü $1.00 ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p> </div>
                <div class="task-reward"><i class="fas fa-dollar-sign"></i> 1.00</div>
                <a href="https://www.youtube.com/@techblogbd" target="_blank" onclick="claimSocialReward('youtube', document.getElementById('youtube-btn')); return false;"> <button id="youtube-btn" class="task-btn">‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ & ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ</button> </a>
            </div>
            <div class="task-card">
                <div class="task-info"> <h4>‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶®</h4> <p>‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶´‡¶ø‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶ú‡¶Ø‡¶º‡ßá‡¶® ‡¶ï‡¶∞‡ßá ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü $0.50 ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p> </div>
                <div class="task-reward"><i class="fas fa-dollar-sign"></i> 0.50</div>
                <a href="https://t.me/techblogbdofficial" target="_blank" onclick="claimSocialReward('telegram', document.getElementById('telegram-btn')); return false;"> <button id="telegram-btn" class="task-btn">‡¶ú‡¶Ø‡¶º‡ßá‡¶® & ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ</button> </a>
            </div>
            <h2 style="margin-top: 30px;"><i class="fas fa-fire"></i> ‡¶â‡¶ö‡ßç‡¶ö ‡¶Ü‡¶Ø‡¶º‡ßá‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞</h2>
            <div id="tasks-list">
                <div class="task-card" style="border: 2px solid #3b82f6;">
                    <div class="task-info"> <h4>‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü</h4> <p>‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶π‡¶æ‡¶á-‡¶™‡ßá‡¶Ø‡¶º‡¶ø‡¶Ç ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ (CPC ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ)</p> </div>
                    <div class="task-reward">‡¶â‡¶ö‡ßç‡¶ö CPM</div>
                    <a href="https://otieu.com/4/10117894" target="_blank"> <button class="task-btn" style="background-color: #06b6d4;">‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button> </a>
                </div>
            </div>
        </div>

        <div id="video-claim-tab" class="tab-content" style="display:none;">
            <h2><i class="fab fa-youtube"></i> ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶ì ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶® ($<strong id="video-claim-reward">0.80</strong>)</h2>
            <div id="video-task-card" class="task-card" style="display: block; text-align: center; border: 2px dashed #3b82f6; padding: 10px;">
                <p style="font-weight: 600; margin-bottom: 5px;">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤:</p>
                <h4 id="video-title" style="color: #1d4ed8; margin-bottom: 15px;">Load ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h4>
                <div id="youtube-player-container" style="width: 100%; aspect-ratio: 16 / 9; margin: 10px 0;"><div id="youtube-player"></div></div>
                <p style="margin-top: 15px; color: #ef4444; font-weight: 700;" id="video-instruction">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶®‡¶æ ‡¶π‡¶≤‡ßá ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡¶¨‡ßá ‡¶®‡¶æ‡•§</p>
                <button id="video-claim-btn" class="btn-action" disabled style="background-color: #10b981;">
                    <i class="fas fa-hourglass-start"></i> ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶∂‡ßá‡¶∑ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
                <p id="claim-status" style="color: #6b7280; margin-top: 10px; font-weight: 500;">
                    ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏: <span id="video-today-status">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
                </p>
            </div>
        </div>

        <div id="withdraw-tab" class="tab-content" style="display:none;">
            <h2><i class="fas fa-money-check-alt"></i> ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶§‡ßã‡¶≤‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß</h2>
            <form id="withdrawal-form">
                <p style="color: #ef4444; font-weight: 600;">‡¶∏‡¶∞‡ßç‡¶¨‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶≤: <strong id="min-withdraw-amount">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</strong></p>
                <input type="number" id="amount" placeholder="‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£" required>
                <select id="method" required><option value="bKash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂</option><option value="Nagad">‡¶®‡¶ó‡¶¶</option></select>
                <input type="text" id="account" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞" required>
                <button type="submit" class="btn-action" style="background-color: #3b82f6;">
                    <i class="fas fa-paper-plane"></i> ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶™‡¶æ‡¶†‡¶æ‡¶®
                </button>
            </form>
        </div>

        <div id="refer-tab" class="tab-content" style="display:none;">
            <h2><i class="fas fa-user-friends"></i> ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
            <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßá ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
            <input type="text" id="referral-link" value="https://t.me/easyearningsads_bot?start=refID" readonly>
            <button class="btn-action" onclick="copyReferralLink()" style="background-color: #f97316;">
                <i class="fas fa-copy"></i> ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>
            <p style="margin-top: 30px; color: #6b7280; font-size: 14px;">**‡¶è‡¶ï‡ßç‡¶∏‡¶ï‡ßç‡¶≤‡ßÅ‡¶∏‡¶ø‡¶≠ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ:** ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶Ö‡¶™‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
            <button class="btn-action" onclick="window.open('https://otieu.com/4/10117894', '_blank')" style="background-color: #06b6d4;">
                <i class="fas fa-link"></i> ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶Ö‡¶™‡¶∂‡¶® ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>
        </div>
        
        <div id="support-tab" class="tab-content" style="display:none;">
            <h2><i class="fas fa-question-circle"></i> ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ì ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</h2>
            <div class="task-card" style="display: block; text-align: center; border: 2px solid #3b82f6;">
                <p style="font-size: 16px; font-weight: 600; color: #1d4ed8; margin-bottom: 15px;">‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡ßÅ‡¶®</p>
                <p style="color: #6b7280; margin-bottom: 20px;">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶§ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶¨‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶ú‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶∏‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
                <a href="https://t.me/Your_Support_Username" target="_blank"> 
                    <button class="btn-action" style="background-color: #0088CC;"> <i class="fab fa-telegram-plane"></i> ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶Ø‡¶æ‡¶® </button>
                </a>
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px dashed #e5e7eb;">
                    <p style="font-size: 14px; font-weight: 500; color: #1f2937; margin-bottom: 5px;">‡¶Ö‡¶´‡¶ø‡¶∏‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤:</p>
                    <a href="https://t.me/techblogbdofficial" target="_blank" style="color: #0088CC; text-decoration: none; font-weight: 600;"> <i class="fab fa-telegram"></i> @TechBlogBdOfficial </a>
                </div>
                <div style="margin-top: 15px;">
                    <p style="font-size: 14px; color: #ef4444; margin: 0;">‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ï‡¶∞‡ßá ‡¶¨‡¶ø‡¶∞‡¶ï‡ßç‡¶§‡¶ø ‡¶∏‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡ß®‡ß™ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡ßá‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶¨‡ßã‡•§</p>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        // *** ‡ßß. FIREBASE ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® (‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ) ***
        const firebaseConfig = {
            apiKey: "AIzaSyAbugSJucb7OfrGbWqjbMEBIl6qAsg2BJ8",
            authDomain: "my-project-c3584.firebaseapp.com",
            databaseURL: "https://my-project-c3584-default-rtdb.firebaseio.com",
            projectId: "my-project-c3584",
            storageBucket: "my-project-c3584.appspot.com",
            messagingSenderId: "876896062289",
            appId: "1:876896062289:web:35ec2388f05d1c903e6170",
            measurementId: "G-Q64B59JRHR"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // **‡¶ï‡ßã‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç**
        const tgData = window.Telegram.WebApp.initDataUnsafe;
        const user = tgData.user || {};
        let currentUserId = user.id ? user.id.toString() : null;
        
        // ** ‡ß®. ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® **
        const BONUS_AMOUNT = 0.50; 
        const adButton = document.getElementById('collect-btn');
        const showMonetagAd = window.show_10117888; 
        const TODAY = new Date().toISOString().split('T')[0];
        let globalAdLimit = 5; 
        let globalMinWithdrawal = 500;
        let globalVideoTask = {
            link: "dQw4w9WgXcQ", // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ YouTube Video ID
            title: "‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®", 
            reward: 0.80
        };
        const SOCIAL_TASKS = {
            youtube: { reward: 1.00, key: 'youtubeSubscribed', buttonId: 'youtube-btn' },
            telegram: { reward: 0.50, key: 'telegramJoined', buttonId: 'telegram-btn' }
        };

        // --- ‡ß©. ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≤‡¶ú‡¶ø‡¶ï ---
        let player;
        let videoWatched = false;
        
        function loadYouTubeAPI() { 
             const tag = document.createElement('script');
             tag.src = "https://www.youtube.com/iframe_api";
             const firstScriptTag = document.getElementsByTagName('script')[0];
             firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }
        
        window.onYouTubeIframeAPIReady = function() {
             if (document.getElementById('video-claim-tab').style.display !== 'none' && !player) {
                 createYouTubePlayer(globalVideoTask.link);
             }
        };
        
        function createYouTubePlayer(videoId) { 
             // ‡¶™‡ßÅ‡¶∞‡¶®‡ßã ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶§‡¶æ ‡¶ß‡ßç‡¶¨‡¶Ç‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶® 
             if (player) { player.destroy(); player = null; }
             
             // ‡¶Ø‡¶¶‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º, ‡¶§‡¶¨‡ßá ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á
             if (document.getElementById('video-today-status').innerText.includes('‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®')) return;

             player = new YT.Player('youtube-player', {
                 videoId: videoId,
                 playerVars: {
                     'controls': 1,
                     'autoplay': 0,
                     'modestbranding': 1,
                     'rel': 0,
                     'showinfo': 0
                 },
                 events: {
                     'onReady': onPlayerReady,
                     'onStateChange': onPlayerStateChange
                 }
             });
        }
        
        function onPlayerReady(event) {}
        
        function onPlayerStateChange(event) {
            const videoClaimBtn = document.getElementById('video-claim-btn');
            const videoInstruction = document.getElementById('video-instruction');

            if (event.data === YT.PlayerState.PLAYING) {
                document.querySelectorAll('.tab-menu button').forEach(btn => btn.disabled = true);
                document.querySelector('.tab-menu button.active').disabled = false;
                videoClaimBtn.disabled = true;
                videoClaimBtn.innerHTML = `<i class="fas fa-lock"></i> ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶∂‡ßá‡¶∑ ‡¶®‡¶æ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®`;
                videoInstruction.style.color = '#f97316';
                videoInstruction.innerText = '‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ö‡¶≤‡¶õ‡ßá! ‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶∂‡ßá‡¶∑ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...';

            } else if (event.data === YT.PlayerState.ENDED) {
                videoWatched = true;
                document.querySelectorAll('.tab-menu button').forEach(btn => btn.disabled = false); 
                videoClaimBtn.disabled = false;
                videoClaimBtn.innerHTML = `<i class="fas fa-check-circle"></i> $${globalVideoTask.reward.toFixed(2)} ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®`;
                videoClaimBtn.style.backgroundColor = '#10b981';
                videoInstruction.style.color = '#10b981';
                videoInstruction.innerText = '‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶∂‡ßá‡¶∑‡•§ ‡¶è‡¶¨‡¶æ‡¶∞ ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶¨‡¶æ‡¶ü‡¶®‡¶ü‡¶ø ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';

            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.BUFFERING) {
                if (!videoWatched) {
                    document.querySelectorAll('.tab-menu button').forEach(btn => btn.disabled = true);
                    document.querySelector('.tab-menu button.active').disabled = false;
                    videoInstruction.innerText = '‡¶™‡¶ú ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶®...';
                }
            }
        }
        
        // --- ‡ß™. ‡¶Æ‡ßÇ‡¶≤ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ---
        async function loadUserData(userId) {
            if (!userId) return;
            
            // ‡ß™.‡ßß ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
            try {
                const configDoc = await db.collection("config").doc("global").get();
                if (configDoc.exists) {
                    const configData = configDoc.data();

                    // --- üî• ‡¶Æ‡ßá‡¶á‡¶® ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ö‡ßá‡¶ï (‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£) üî• ---
                    const mainWebsiteLink = configData.mainWebsiteLink;
                    // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® URL-‡¶è‡¶∞ ‡¶∏‡¶ô‡ßç‡¶ó‡ßá Firebase-‡¶è ‡¶•‡¶æ‡¶ï‡¶æ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡ßá‡¶∞ ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
                    if (mainWebsiteLink && mainWebsiteLink !== window.location.href.split('?')[0]) {
                        console.log("Redirecting to mainWebsiteLink:", mainWebsiteLink);
                        // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø start_param ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ
                        window.location.href = mainWebsiteLink + '?tgWebAppStartParam=' + (tgData.start_param || '');
                        return; // ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡ßá‡¶∞ ‡¶™‡¶∞ ‡¶Ü‡¶∞ ‡¶ï‡ßã‡¶° ‡¶è‡¶ï‡ßç‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á
                    }
                    // --- ‡¶∞‡¶ø‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶∂‡ßá‡¶∑ ---
                    
                    globalAdLimit = configData.dailyAdLimit || 5;
                    globalMinWithdrawal = configData.minWithdrawal || 500;
                    globalVideoTask.link = configData.videoLink || globalVideoTask.link;
                    globalVideoTask.title = configData.videoTitle || globalVideoTask.title;
                    globalVideoTask.reward = configData.videoReward || globalVideoTask.reward;
                }
            } catch (e) { console.error("Error loading global config:", e); }
            
            // UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
            document.getElementById('ad-limit').innerText = globalAdLimit;
            document.getElementById('min-withdraw-amount').innerText = `${globalMinWithdrawal} ‡¶ü‡¶æ‡¶ï‡¶æ`;
            document.getElementById('video-title').innerText = globalVideoTask.title;
            document.getElementById('video-claim-reward').innerText = globalVideoTask.reward.toFixed(2);

            // ‡ß™.‡ß® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
            const userRef = db.collection("users").doc(userId);
            const doc = await userRef.get();
            let userData = { balance: 0.00, adCount: 0, lastAdDate: null, youtubeSubscribed: false, telegramJoined: false, videoClaimDate: null };

            if (doc.exists) { userData = doc.data(); } 
            
            // ‡¶°‡ßá‡¶á‡¶≤‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü (‡¶Ø‡¶¶‡¶ø ‡¶¶‡¶ø‡¶® ‡¶¨‡¶¶‡¶≤‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º)
            if (userData.lastAdDate !== TODAY) {
                // ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ adCount ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá ‡¶π‡¶¨‡ßá ‡¶®‡¶æ, ‡¶∏‡¶æ‡¶•‡ßá lastAdDate ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá
                await userRef.update({ adCount: 0, lastAdDate: TODAY });
                userData.adCount = 0;
            }

            // ‡ß™.‡ß© UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü (‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏, ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü)
            document.getElementById('user-balance').innerText = `${userData.balance ? userData.balance.toFixed(2) : '0.00'}`;
            document.getElementById('tg-username').innerText = user.username ? `@${user.username}` : user.first_name || "‡¶á‡¶â‡¶ú‡¶æ‡¶∞";
            const adCount = userData.adCount || 0;
            document.getElementById('ad-count').innerText = adCount;
            document.getElementById('ad-progress-bar').style.width = `${(adCount / globalAdLimit) * 100}%`;

            if (adCount >= globalAdLimit) {
                adButton.disabled = true;
                adButton.innerHTML = `<i class="fas fa-check"></i> ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®`;
                adButton.style.backgroundColor = '#10b981';
            } else {
                preloadMonetagAd();
            }
            
            // ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
            for (const taskName in SOCIAL_TASKS) {
                const task = SOCIAL_TASKS[taskName];
                const button = document.getElementById(task.buttonId);
                if (userData[task.key]) {
                    button.disabled = true;
                    button.innerText = '‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá‡¶á ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá';
                    button.classList.add('completed');
                } else {
                    button.disabled = false;
                    button.innerText = (taskName === 'youtube') ? '‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ & ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ' : '‡¶ú‡¶Ø‡¶º‡ßá‡¶® & ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ';
                    button.classList.remove('completed');
                }
            }

            // ‡ß™.‡ß™ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
            const videoClaimBtn = document.getElementById('video-claim-btn');
            const videoTodayStatus = document.getElementById('video-today-status');
            const videoInstruction = document.getElementById('video-instruction');
            
            if (userData.videoClaimDate === TODAY) {
                videoTodayStatus.innerText = '‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ü‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá‡¶á ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§';
                videoTodayStatus.style.color = '#10b981';
                videoClaimBtn.disabled = true;
                videoClaimBtn.innerHTML = `<i class="fas fa-check"></i> ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶∂‡ßá‡¶∑`;
                videoInstruction.style.display = 'none'; 
                if (player) { player.destroy(); player = null; }
                document.getElementById('youtube-player').innerHTML = '';

            } else {
                videoTodayStatus.innerText = '‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßá ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
                videoTodayStatus.style.color = '#f97316';
                videoClaimBtn.disabled = true; 
                videoClaimBtn.innerHTML = `<i class="fas fa-hourglass-start"></i> ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶∂‡ßá‡¶∑ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®`;
                videoInstruction.style.display = 'block'; 
                videoWatched = false;
                
                // ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ video-claim ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶è‡¶ï‡¶ü‡¶ø‡¶≠ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá‡¶á YouTube ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
                if (document.getElementById('video-claim-tab').style.display !== 'none' && window.YT && !player) {
                    createYouTubePlayer(globalVideoTask.link);
                }
            }
        }
        
        // --- ‡ß´. Monetag ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡¶ú‡¶ø‡¶ï (Preload/Show) ---
        function preloadMonetagAd() {
            adButton.disabled = false;
            adButton.innerHTML = `<i class="fas fa-eye"></i> ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶ì $${BONUS_AMOUNT.toFixed(2)} ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®`;
            adButton.style.backgroundColor = '#f97316';
            if (showMonetagAd) {
                 showMonetagAd(); // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
            }
        }
        
        adButton.addEventListener('click', async function() {
            if (adButton.disabled) return;
        
            adButton.disabled = true;
            adButton.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...`;
            adButton.style.backgroundColor = '#3b82f6';
        
            if (showMonetagAd) {
                 // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶®‡ßç‡¶Ø ‡¶¶‡ßá‡¶∞‡¶ø
                 await new Promise(resolve => setTimeout(resolve, 500)); 
                 showMonetagAd();
            } else {
                // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡¶æ‡¶á‡¶¨‡ßç‡¶∞‡ßá‡¶∞‡¶ø ‡¶≤‡ßã‡¶° ‡¶®‡¶æ ‡¶π‡¶≤‡ßá ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶¶‡ßá‡¶∞‡¶ø
                await new Promise(resolve => setTimeout(resolve, 2000));
            }
        
            try {
                // Firestore-‡¶è ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                const userRef = db.collection("users").doc(currentUserId);
                await db.runTransaction(async (transaction) => {
                    const doc = await transaction.get(userRef);
                    let userData = doc.data() || { balance: 0, adCount: 0, lastAdDate: TODAY };
        
                    if (userData.adCount >= globalAdLimit) {
                        throw new Error("Daily limit reached.");
                    }
        
                    const newBalance = (userData.balance || 0) + BONUS_AMOUNT;
                    const newAdCount = (userData.adCount || 0) + 1;
        
                    transaction.update(userRef, {
                        balance: newBalance,
                        adCount: newAdCount,
                        lastAdDate: TODAY
                    });
        
                    document.getElementById('user-balance').innerText = newBalance.toFixed(2);
                    document.getElementById('ad-count').innerText = newAdCount;
                    document.getElementById('ad-progress-bar').style.width = `${(newAdCount / globalAdLimit) * 100}%`;
                });
        
                alert(`‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶ø $${BONUS_AMOUNT.toFixed(2)} ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§`);
                loadUserData(currentUserId);
        
            } catch (error) {
                console.error("Ad claim failed:", error);
                alert("‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø: " + (error.message.includes("Daily limit reached") ? "‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü ‡¶∂‡ßá‡¶∑‡•§" : "‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá, ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"));
                loadUserData(currentUserId);
            }
        });

        // --- ‡ß¨. ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶≤‡¶ú‡¶ø‡¶ï ---
        async function claimSocialReward(taskName, buttonElement) {
             if (buttonElement.disabled) return;
             
             buttonElement.disabled = true;
             buttonElement.innerText = '‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';
             buttonElement.style.backgroundColor = '#3b82f6';
        
             const task = SOCIAL_TASKS[taskName];
             const userRef = db.collection("users").doc(currentUserId);
        
             try {
                 await db.runTransaction(async (transaction) => {
                     const doc = await transaction.get(userRef);
                     let userData = doc.data() || { balance: 0 };
        
                     if (userData[task.key]) {
                         throw new Error("Already claimed.");
                     }
        
                     const newBalance = (userData.balance || 0) + task.reward;
        
                     // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                     const updateData = {
                         balance: newBalance,
                         [task.key]: true // youtubeSubscribed ‡¶¨‡¶æ telegramJoined ‡¶ï‡ßá true ‡¶ï‡¶∞‡¶æ
                     };
                     transaction.update(userRef, updateData);
        
                     document.getElementById('user-balance').innerText = newBalance.toFixed(2);
                 });
        
                 alert(`‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶ø $${task.reward.toFixed(2)} ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡ßá‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶®‡•§`);
                 loadUserData(currentUserId);
             } catch (error) {
                 console.error(`Claiming ${taskName} failed:`, error);
                 alert("‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø: " + (error.message.includes("Already claimed") ? "‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá‡¶á ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§" : "‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"));
                 loadUserData(currentUserId);
             }
        }
        window.claimSocialReward = claimSocialReward;

        // --- ‡ß≠. ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶® ‡¶≤‡¶ú‡¶ø‡¶ï ---
        document.getElementById('video-claim-btn').addEventListener('click', async function() {
            if (!videoWatched || this.disabled) return;
        
            this.disabled = true;
            this.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...`;
            this.style.backgroundColor = '#3b82f6';
        
            try {
                const userRef = db.collection("users").doc(currentUserId);
                await db.runTransaction(async (transaction) => {
                    const doc = await transaction.get(userRef);
                    let userData = doc.data() || { balance: 0 };
        
                    if (userData.videoClaimDate === TODAY) {
                        throw new Error("Already claimed for today.");
                    }
        
                    const newBalance = (userData.balance || 0) + globalVideoTask.reward;
        
                    transaction.update(userRef, {
                        balance: newBalance,
                        videoClaimDate: TODAY
                    });
        
                    document.getElementById('user-balance').innerText = newBalance.toFixed(2);
                });
        
                alert(`‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßá $${globalVideoTask.reward.toFixed(2)} ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§`);
                loadUserData(currentUserId);
        
            } catch (error) {
                console.error("Video claim failed:", error);
                alert("‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø: " + (error.message.includes("Already claimed for today") ? "‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ï‡ßç‡¶≤‡ßá‡¶á‡¶Æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§" : "‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá, ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"));
                loadUserData(currentUserId);
            }
        });


        // ** ‡ßÆ. ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶≤‡¶ú‡¶ø‡¶ï **
        document.getElementById('withdrawal-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const amount = parseFloat(document.getElementById('amount').value);
            const method = document.getElementById('method').value;
            const account = document.getElementById('account').value;
            
            const submitBtn = document.querySelector('#withdrawal-form button[type="submit"]');
            submitBtn.disabled = true;
            submitBtn.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá...`;
        
            try {
                if (isNaN(amount) || amount <= 0) { throw new Error("‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡¶Ø‡¶º‡•§"); }
                if (amount < globalMinWithdrawal) { throw new Error(`‡¶∏‡¶∞‡ßç‡¶¨‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶≤ $${globalMinWithdrawal} ‡¶è‡¶∞ ‡¶ï‡¶Æ‡•§`); }

                const userRef = db.collection("users").doc(currentUserId);
                
                let success = false;
                await db.runTransaction(async (transaction) => {
                    const doc = await transaction.get(userRef);
                    let userData = doc.data() || { balance: 0 };
        
                    
                    if (userData.balance < amount) {
                        throw new Error("‡¶Ö‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏‡•§");
                    }
        
                    // ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø
                    const withdrawalRequest = {
                        userId: currentUserId,
                        username: user.username || user.first_name,
                        amount: amount,
                        method: method,
                        account: account,
                        status: 'Pending',
                        timestamp: firebase.firestore.FieldValue.serverTimestamp()
                    };
        
                    // ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
                    transaction.set(db.collection("withdrawals").doc(), withdrawalRequest);
        
                    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                    transaction.update(userRef, {
                        balance: userData.balance - amount // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡ßá‡¶ü‡ßá ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ
                    });
                    
                    document.getElementById('user-balance').innerText = (userData.balance - amount).toFixed(2);
                    success = true;
                });
                
                if (success) {
                    alert("‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡ß®‡ß™-‡ß™‡ßÆ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßá‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡¶®‡•§");
                    document.getElementById('withdrawal-form').reset();
                    loadUserData(currentUserId); // ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
                }
        
            } catch (error) {
                console.error("Withdrawal failed:", error);
                alert("‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: " + error.message);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = `<i class="fas fa-paper-plane"></i> ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶™‡¶æ‡¶†‡¶æ‡¶®`;
            }
        });


        // ** ‡ßØ. ‡¶á‡¶â‡¶ü‡¶ø‡¶≤‡¶ø‡¶ü‡¶ø ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® **
        function showTab(tabName, button) { 
            document.querySelectorAll('.tab-content').forEach(tab => tab.style.display = 'none');
            document.querySelectorAll('.tab-menu button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(tabName + '-tab').style.display = 'block';
            button.classList.add('active');

            // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶≤‡¶ú‡¶ø‡¶ï
            if (tabName === 'video-claim') {
                // ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶§‡¶ñ‡¶®‡¶á ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá ‡¶Ø‡¶ñ‡¶® YT API ‡¶≤‡ßã‡¶° ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶¨‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®
                if (window.YT) { 
                    loadUserData(currentUserId); 
                } else { 
                    loadYouTubeAPI(); 
                }
            } else if (player) {
                // ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡ßá ‡¶ó‡ßá‡¶≤‡ßá ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶®‡¶∑‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶¨‡¶æ‡¶Å‡¶ö‡¶æ‡¶§‡ßá
                player.destroy(); 
                player = null;
                document.getElementById('youtube-player').innerHTML = '';
            }
        }
        window.showTab = showTab;

        function copyReferralLink() {
            const copyText = document.getElementById("referral-link");
            copyText.select();
            copyText.setSelectionRange(0, 99999); // For mobile devices
            navigator.clipboard.writeText(copyText.value).then(() => {
                alert("‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!");
            }).catch(err => {
                console.error('Failed to copy text: ', err);
                alert("‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø, ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
            });
        }
        window.copyReferralLink = copyReferralLink;

        // ** ‡ßß‡ß¶. ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶® **
        if (currentUserId) {
            loadUserData(currentUserId);
            // ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
            const referralLinkInput = document.getElementById('referral-link');
            if(referralLinkInput) {
                // start_param ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ
                referralLinkInput.value = `https://t.me/easyearningsads_bot?start=ref${currentUserId}`;
            }
        } else {
             alert("‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§ ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
             // ‡¶ü‡ßá‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø, ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶°‡¶æ‡¶Æ‡¶ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®:
             // loadUserData("TEST_USER_12345");
        }
    </script>
</body>

</html>
